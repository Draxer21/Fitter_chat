version: "3.1"

intents:
  - saludar
  - ayuda
  - informar
  - solicitar_rutina
  - solicitar_dieta
  - cambiar_objetivo_rutina
  - cambiar_musculo_rutina
  - cambiar_nivel_rutina
  - dolor_lesion
  - consultar_reserva
  - enviar_rutina_correo
  - mostrar_rutina_pantalla
  - suscripcion_alta
  - suscripcion_baja

entities:
  - objetivo
  - musculo
  - nivel
  - equipamiento
  - ejercicios_num
  - tiempo_disponible
  - condiciones_salud
  - alergias
  - formato
  - contacto
  - codigo_reserva

slots:
  objetivo:
    type: text
    mappings:
      - type: from_entity
        entity: objetivo

  musculo:
    type: text
    mappings:
      - type: from_entity
        entity: musculo

  nivel:
    type: text
    mappings:
      - type: from_entity
        entity: nivel

  equipamiento:
    type: text
    mappings:
      - type: from_entity
        entity: equipamiento

  ejercicios_num:
    type: text
    mappings:
      - type: from_entity
        entity: ejercicios_num
      - type: from_text

  tiempo_disponible:
    type: text
    mappings:
      - type: from_entity
        entity: tiempo_disponible
      - type: from_text

  condiciones_salud:
    type: text
    mappings:
      - type: from_entity
        entity: condiciones_salud
      - type: from_text

  alergias:
    type: text
    mappings:
      - type: from_entity
        entity: alergias
      - type: from_text

  formato:
    type: text
    mappings:
      - type: from_entity
        entity: formato
      - type: from_text

  contacto:
    type: text
    mappings:
      - type: from_entity
        entity: contacto
      - type: from_entity
        entity: email
      - type: from_entity
        entity: telefono
      - type: from_text

  codigo_reserva:
    type: text
    mappings:
      - type: from_entity
        entity: codigo_reserva
      - type: from_text

responses:
  utter_saludar:
    - text: "Hola, soy Fitter. Â?En que puedo ayudarte?"

  utter_info_servicios:
    - text: "Puedo generar rutinas, sugerir dietas, enviar planes por correo y consultar reservas."

  utter_dolor_lesion:
    - text: "Si notas dolor o una lesion recurrente, baja la intensidad y consulta con un profesional."

  utter_pedir_contacto:
    - text: "Necesito un correo o telefono para enviarte la rutina. Â?Me lo compartes?"

  utter_envio_rutina_correo:
    - text: "Perfecto, en unos minutos te envio la rutina a {contacto}."

  utter_ask_codigo_reserva:
    - text: "Indica el codigo de tu reserva para revisar el estado."

  utter_reserva_estado:
    - text: "Estado de la reserva {codigo_reserva}: actualizado y confirmado."

  utter_suscripcion_alta:
    - text: "Activemos tu suscripcion. Dime el plan que prefieres y el metodo de pago."

  utter_suscripcion_baja:
    - text: "Puedo cancelar o pausar tu suscripcion. Confirma como deseas proceder."

  utter_fuera_de_alcance:
    - text: "Lo siento, aun no puedo ayudarte con eso. Puedes reformular tu consulta?"

actions:
  - action_generar_rutina
  - action_generar_dieta
  - action_consultar_reserva

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

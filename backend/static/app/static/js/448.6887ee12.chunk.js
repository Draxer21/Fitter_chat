"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[448],{448:(e,r,s)=>{s.r(r),s.d(r,{default:()=>g});var a=s(43),t=s(352),l=s(197),i=s(609),n=s(579);const o=e=>{let{type:r="info",message:s}=e;if(!s)return null;const a="alert alert-".concat(r," mt-3");return(0,n.jsx)("div",{className:a,role:"alert",children:s})};var m=s(462),c=s(964);const d=e=>(e||"").trim(),u=/^[a-zA-Z0-9_-]{3,32}$/;function g(){const{t:e}=(0,c.Ym)(),[r,s]=(0,a.useState)(""),[g,h]=(0,a.useState)(""),[x,p]=(0,a.useState)(""),[f,b]=(0,a.useState)(""),[j,N]=(0,a.useState)(""),[v,w]=(0,a.useState)([]),[y,C]=(0,a.useState)(!1),S=(0,t.Zp)(),q=(e,r)=>w([{type:e,text:r}]);return(0,n.jsxs)("div",{className:"registro-bg d-flex flex-column min-vh-100",children:[(0,n.jsx)(l.A,{}),(0,n.jsx)("main",{className:"container mt-4 mb-5 flex-grow-1 d-flex justify-content-center align-items-center",children:(0,n.jsxs)("div",{className:"card p-5",style:{maxWidth:500,width:"100%"},children:[(0,n.jsx)("h2",{className:"mb-4 text-center text-dark fw-bold",children:e("register.title")}),(0,n.jsxs)("form",{id:"formulario",onSubmit:async s=>{s.preventDefault(),w([]);const a=(()=>{const s=d(r),a=d(g).toLowerCase(),t=d(x).toLowerCase(),l=d(f),i=d(j);return s&&a&&t&&l&&i?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(t)?u.test(a)?l.length<6?(q("danger",e("register.error.passwordLength")),null):l!==i?(q("danger",e("register.error.passwordMismatch")),null):{full_name:s,username:a,email:t,password:l}:(q("danger",e("register.error.username")),null):(q("danger",e("register.error.email")),null):(q("danger",e("register.error.required")),null)})();if(a)try{C(!0),await m.n.auth.register(a),q("success",e("register.success")),setTimeout(()=>S("/login",{replace:!0}),1500)}catch(t){q("danger",(null===t||void 0===t?void 0:t.message)||e("register.error.required"))}finally{C(!1)}},noValidate:!0,children:[v.map((e,r)=>(0,n.jsx)(o,{type:e.type,message:e.text},r)),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:"registerName",className:"form-label",children:e("register.fullname")}),(0,n.jsx)("input",{id:"registerName",className:"form-control",value:r,onChange:e=>s(e.target.value),placeholder:"Tu nombre y apellido",required:!0})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:"registerUsername",className:"form-label",children:e("register.username")}),(0,n.jsx)("input",{id:"registerUsername",className:"form-control",value:g,onChange:e=>h(e.target.value),placeholder:"tu_usuario",required:!0})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:"registerEmail",className:"form-label",children:e("register.email")}),(0,n.jsx)("input",{id:"registerEmail",type:"email",className:"form-control",value:x,onChange:e=>p(e.target.value),placeholder:"correo@dominio.com",required:!0})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:"registerPassword",className:"form-label",children:e("register.password")}),(0,n.jsx)("input",{id:"registerPassword",type:"password",className:"form-control",value:f,onChange:e=>b(e.target.value),placeholder:"Password segura",required:!0})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{htmlFor:"registerPassword2",className:"form-label",children:e("register.password.confirm")}),(0,n.jsx)("input",{id:"registerPassword2",type:"password",className:"form-control",value:j,onChange:e=>N(e.target.value),placeholder:"Repite tu password",required:!0})]}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary w-100 py-2 fw-bold",disabled:y,children:e(y?"register.loading":"register.submit")})]}),(0,n.jsxs)("div",{className:"text-center mt-4",children:[(0,n.jsx)("p",{className:"text-dark mb-0",children:e("register.haveAccount")}),(0,n.jsx)(t.N_,{to:"/login",className:"text-primary text-decoration-none fw-medium",children:e("register.gotoLogin")})]})]})}),(0,n.jsx)(i.A,{})]})}}}]);
//# sourceMappingURL=448.6887ee12.chunk.js.map
{"version":3,"file":"static/js/493.c0031fb5.chunk.js","mappings":"uKAIe,SAASA,IACtB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAUC,EAAAA,EAAAA,SAAQ,IAAM,IAAIC,gBAAgBJ,EAASK,QAAQC,IAAI,SAAU,CAACN,EAASK,UACpFE,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,OAC1BC,EAAKC,IAAUF,EAAAA,EAAAA,UAAS,KAE/BG,EAAAA,EAAAA,WAAU,KACRC,EAAAA,EAAIC,QAAQC,OAAOb,GAASc,KAAKR,GAASS,MAAOC,GAAMP,EAAOO,EAAEC,WAC/D,CAACjB,IAEJ,MAAMY,GAAUX,EAAAA,EAAAA,SAAQ,KAAU,OAAJI,QAAI,IAAJA,OAAI,EAAJA,EAAMO,UAAW,CAAC,EAAG,CAACP,IAC9Ca,GAAQjB,EAAAA,EAAAA,SAAQ,IAAMkB,OAAOC,OAAOR,EAAQM,QAAa,OAAJb,QAAI,IAAJA,OAAI,EAAJA,EAAMa,QAAS,CAAC,GAAI,CAACN,EAASP,IACnFgB,GAAQpB,EAAAA,EAAAA,SAAQ,SAAAqB,EAAAC,EAAAC,EAAA,OAAyD,QAAzDF,EAA0C,QAA1CC,EAAmB,QAAnBC,EAAMZ,EAAQS,aAAK,IAAAG,EAAAA,EAAQ,OAAJnB,QAAI,IAAJA,OAAI,EAAJA,EAAMoB,qBAAa,IAAAF,EAAAA,EAAQ,OAAJlB,QAAI,IAAJA,OAAI,EAAJA,EAAMgB,aAAK,IAAAC,EAAAA,EAAI,GAAG,CAACV,EAASP,IAEhG,OAAIG,GAAYkB,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAEC,QAAS,GAAIC,MAAO,eAAiBC,UAAU,cAAaC,SAAEvB,IACvFH,GAGH2B,EAAAA,EAAAA,MAAA,OAAKF,UAAU,eAAeH,MAAO,CAAEC,QAAS,IAAKG,SAAA,EACnDL,EAAAA,EAAAA,KAAA,MAAAK,SAAI,YACJC,EAAAA,EAAAA,MAAA,KAAAD,SAAA,CAAG,UAAQ1B,EAAK4B,UAChBD,EAAAA,EAAAA,MAAA,SAAAD,SAAA,EACEL,EAAAA,EAAAA,KAAA,SAAAK,UACEC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACEL,EAAAA,EAAAA,KAAA,MAAAK,SAAI,cACJL,EAAAA,EAAAA,KAAA,MAAAK,SAAI,WACJL,EAAAA,EAAAA,KAAA,MAAAK,SAAI,QACJL,EAAAA,EAAAA,KAAA,MAAAK,SAAI,gBAGRL,EAAAA,EAAAA,KAAA,SAAAK,SACGb,EAAMgB,IAAKC,IACVH,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACEL,EAAAA,EAAAA,KAAA,MAAAK,SAAKI,EAAGC,UACRV,EAAAA,EAAAA,KAAA,MAAAK,SAAKI,EAAGE,YACRL,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,IAAEO,OAAOH,EAAGI,iBAAmB,GAAGC,QAAQ,OAC9CR,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,IAAEO,OAAOH,EAAGM,WAAa,GAAGD,QAAQ,QAJjCL,EAAGO,oBASlBV,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,WAASO,OAAOjB,GAAS,GAAGmB,QAAQ,UA1B1Bd,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAEC,QAAS,IAAKG,SAAC,0BA6BjD,C","sources":["pages/BoletaPage.jsx"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { API } from \"../services/apijs\";\r\n\r\nexport default function BoletaPage() {\r\n  const location = useLocation();\r\n  const orderId = useMemo(() => new URLSearchParams(location.search).get(\"order\"), [location.search]);\r\n  const [data, setData] = useState(null);\r\n  const [err, setErr] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    API.carrito.boleta(orderId).then(setData).catch((e) => setErr(e.message));\r\n  }, [orderId]);\r\n\r\n  const carrito = useMemo(() => data?.carrito || {}, [data]);\r\n  const items = useMemo(() => Object.values(carrito.items || data?.items || {}), [carrito, data]);\r\n  const total = useMemo(() => carrito.total ?? data?.total_carrito ?? data?.total ?? 0, [carrito, data]);\r\n\r\n  if (err) return <div style={{ padding: 16, color: \"var(--text)\" }} className=\"text-danger\">{err}</div>;\r\n  if (!data) return <div style={{ padding: 16 }}>Generando boletaâ€¦</div>;\r\n\r\n  return (\r\n    <div className=\"legacy-scope\" style={{ padding: 16 }}>\r\n      <h2>Boleta</h2>\r\n      <p>Fecha: {data.fecha}</p>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Producto</th>\r\n            <th>Cant.</th>\r\n            <th>PU</th>\r\n            <th>Total</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {items.map((it) => (\r\n            <tr key={it.producto_id}>\r\n              <td>{it.nombre}</td>\r\n              <td>{it.cantidad}</td>\r\n              <td>${Number(it.precio_unitario || 0).toFixed(2)}</td>\r\n              <td>${Number(it.acumulado || 0).toFixed(2)}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <h3>Total: ${Number(total || 0).toFixed(2)}</h3>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n"],"names":["BoletaPage","location","useLocation","orderId","useMemo","URLSearchParams","search","get","data","setData","useState","err","setErr","useEffect","API","carrito","boleta","then","catch","e","message","items","Object","values","total","_ref","_ref2","_carrito$total","total_carrito","_jsx","style","padding","color","className","children","_jsxs","fecha","map","it","nombre","cantidad","Number","precio_unitario","toFixed","acumulado","producto_id"],"sourceRoot":""}
{"version":3,"file":"static/js/511.606fd944.chunk.js","mappings":"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","sources":["utils/formatPrice.js","pages/PagoPage.jsx"],"sourcesContent":["const pesoFormatter = new Intl.NumberFormat(\"es-CL\", {\r\n  style: \"currency\",\r\n  currency: \"CLP\",\r\n  minimumFractionDigits: 0,\r\n  maximumFractionDigits: 0,\r\n});\r\n\r\nexport const formatearPrecio = (valor) => {\r\n  if (valor === null || valor === undefined) {\r\n    return pesoFormatter.format(0);\r\n  }\r\n\r\n  const numero = typeof valor === \"number\" ? valor : Number.parseFloat(valor);\r\n  if (!Number.isFinite(numero)) {\r\n    return pesoFormatter.format(0);\r\n  }\r\n\r\n  const normalizado = Math.round(numero);\r\n  return pesoFormatter.format(normalizado);\r\n};\r\n\r\nexport const formatPrice = formatearPrecio;\r\n","import { useEffect, useMemo, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { API } from \"../services/apijs\";\r\nimport { formatearPrecio } from \"../utils/formatPrice\";\r\nimport \"../styles/pago/style_pago.css\";\r\nimport { useCart } from \"../contexts/CartContext\";\r\n\r\nfunction luhnCheck(cardNumber) {\r\n  let sum = 0;\r\n  let shouldDouble = false;\r\n  for (let i = cardNumber.length - 1; i >= 0; i--) {\r\n    const digitChar = cardNumber.charAt(i);\r\n    if (!/^\\d$/.test(digitChar)) {\r\n      return false;\r\n    }\r\n    let digit = parseInt(digitChar, 10);\r\n    if (shouldDouble) {\r\n      digit *= 2;\r\n      if (digit > 9) {\r\n        digit -= 9;\r\n      }\r\n    }\r\n    sum += digit;\r\n    shouldDouble = !shouldDouble;\r\n  }\r\n  return sum % 10 === 0;\r\n}\r\n\r\nfunction formatCardNumber(value) {\r\n  const digits = value.replace(/\\D/g, \"\").slice(0, 19);\r\n  const groups = digits.match(/.{1,4}/g);\r\n  return groups ? groups.join(\" \") : digits;\r\n}\r\n\r\nfunction formatExpiry(value) {\r\n  const digits = value.replace(/\\D/g, \"\").slice(0, 4);\r\n  if (digits.length <= 2) {\r\n    return digits;\r\n  }\r\n  return `${digits.slice(0, 2)}/${digits.slice(2)}`;\r\n}\r\n\r\nfunction sanitizeName(value) {\r\n  return value.replace(/\\s{2,}/g, \" \");\r\n}\r\n\r\nfunction detectCardBrand(rawValue) {\r\n  const digits = rawValue.replace(/\\D/g, \"\");\r\n  if (!digits) {\r\n    return \"Tarjeta\";\r\n  }\r\n  if (/^4/.test(digits)) {\r\n    return \"Visa\";\r\n  }\r\n  if (/^5[1-5]/.test(digits) || /^2(2[2-9]|[3-7]\\d)/.test(digits)) {\r\n    return \"Mastercard\";\r\n  }\r\n  if (/^3[47]/.test(digits)) {\r\n    return \"American Express\";\r\n  }\r\n  if (/^3(0[0-5]|[68])/.test(digits)) {\r\n    return \"Diners Club\";\r\n  }\r\n  if (/^6(?:011|5)/.test(digits)) {\r\n    return \"Discover\";\r\n  }\r\n  return \"Tarjeta\";\r\n}\r\n\r\nfunction maskCardDisplay(rawValue) {\r\n  const digits = rawValue.replace(/\\D/g, \"\");\r\n  const base = (digits + \"*******************\").slice(0, 19);\r\n  const groups = base.match(/.{1,4}/g);\r\n  return groups ? groups.join(\" \").trim() : \"**** **** **** ****\";\r\n}\r\n\r\nfunction normalizeExpiryDisplay(exp) {\r\n  if (!exp) {\r\n    return \"MM/YY\";\r\n  }\r\n  const [mm = \"\", yy = \"\"] = exp.split(\"/\");\r\n  if (!mm || !yy) {\r\n    return \"MM/YY\";\r\n  }\r\n  return `${mm.padEnd(2, \"0\")}/${yy.padEnd(2, \"0\")}`.slice(0, 5);\r\n}\r\n\r\nfunction formatNameDisplay(name) {\r\n  const trimmed = name.trim();\r\n  if (!trimmed) {\r\n    return \"Nombre Apellido\";\r\n  }\r\n  return trimmed.toUpperCase();\r\n}\r\n\r\nfunction PaymentCardPreview({ number, name, exp, cvv, focus, brand }) {\r\n  const isFlipped = focus === \"cvv\";\r\n  const numberGroups = (number || \"\").split(\" \").filter(Boolean);\r\n  const safeCvv = cvv || \"***\";\r\n  return (\r\n    <div className=\"payment-card-preview\" aria-hidden=\"true\">\r\n      <div className={`payment-card-visual ${isFlipped ? \"payment-card-visual--flipped\" : \"\"}`}>\r\n        <div className=\"payment-card-face payment-card-face--front\">\r\n          <div className=\"payment-card-top\">\r\n            <span className=\"payment-card-brand\">{brand}</span>\r\n            <span className=\"payment-card-chip\" />\r\n          </div>\r\n          <div className=\"payment-card-number\">\r\n            {numberGroups.length > 0\r\n              ? numberGroups.map((group, index) => (\r\n                  <span key={index} className=\"payment-card-number-group\">\r\n                    {group}\r\n                  </span>\r\n                ))\r\n              : \"**** **** **** ****\"}\r\n          </div>\r\n          <div className=\"payment-card-footer\">\r\n            <div>\r\n              <span className=\"payment-card-label\">Titular</span>\r\n              <span className=\"payment-card-value\">{name}</span>\r\n            </div>\r\n            <div>\r\n              <span className=\"payment-card-label\">Expira</span>\r\n              <span className=\"payment-card-value\">{exp}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"payment-card-face payment-card-face--back\">\r\n          <div className=\"payment-card-stripe\" />\r\n          <div className=\"payment-card-cvv-row\">\r\n            <span className=\"payment-card-label\">CVV</span>\r\n            <span className=\"payment-card-cvv\">{safeCvv}</span>\r\n          </div>\r\n          <div className=\"payment-card-brand payment-card-brand--back\">{brand}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst steps = [\r\n  { label: \"Carrito\", status: \"done\" },\r\n  { label: \"Pago\", status: \"current\" },\r\n  { label: \"Confirmacion\", status: \"pending\" }\r\n];\r\n\r\nexport default function PagoPage() {\r\n  const [form, setForm] = useState({ card_num: \"\", exp: \"\", cvv: \"\", name: \"\" });\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [focusedField, setFocusedField] = useState(\"card_num\");\r\n  const navigate = useNavigate();\r\n  const { items: cartItems, total: cartTotal, refresh: refreshCart, status: cartStatus, error: cartError } = useCart();\r\n  const [summaryError, setSummaryError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    setSummaryError(\"\");\r\n    refreshCart()\r\n      .then(() => {\r\n        if (!cancelled) {\r\n          setSummaryError(\"\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if (!cancelled) {\r\n          setSummaryError(err?.message || \"No se pudo cargar el resumen.\");\r\n        }\r\n      });\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [refreshCart]);\r\n\r\n  const summaryItems = useMemo(() => (Array.isArray(cartItems) ? cartItems : []), [cartItems]);\r\n  const isSummaryLoading = cartStatus === \"loading\";\r\n  const combinedSummaryError = summaryError || cartError?.message || \"\";\r\n\r\n  const totalItems = useMemo(\r\n    () => summaryItems.reduce((acc, item) => acc + (Number(item.cantidad) || 0), 0),\r\n    [summaryItems]\r\n  );\r\n\r\n  const subtotal = useMemo(\r\n    () =>\r\n      summaryItems.reduce(\r\n        (acc, item) => acc + (Number(item.acumulado) || (Number(item.precio_unitario) || 0) * (Number(item.cantidad) || 0)),\r\n        0\r\n      ),\r\n    [summaryItems]\r\n  );\r\n\r\n  const totalToCharge = useMemo(() => {\r\n    const baseTotal = Number(cartTotal) || 0;\r\n    const candidate = Math.max(subtotal, baseTotal);\r\n    return candidate < 0 ? 0 : candidate;\r\n  }, [cartTotal, subtotal]);\r\n\r\n  const cardBrand = useMemo(() => detectCardBrand(form.card_num), [form.card_num]);\r\n  const displayNumber = useMemo(() => maskCardDisplay(form.card_num), [form.card_num]);\r\n  const displayName = useMemo(() => formatNameDisplay(form.name), [form.name]);\r\n  const displayExp = useMemo(() => normalizeExpiryDisplay(form.exp), [form.exp]);\r\n  const displayCvv = useMemo(() => {\r\n    if (!form.cvv) {\r\n      return \"***\";\r\n    }\r\n    const clean = form.cvv.replace(/\\D/g, \"\");\r\n    if (!clean) {\r\n      return \"***\";\r\n    }\r\n    const base = (clean + \"***\").slice(0, 4);\r\n    return base.padEnd(clean.length < 3 ? 3 : base.length, \"*\");\r\n  }, [form.cvv]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    let nextValue = value;\r\n    if (name === \"card_num\") {\r\n      nextValue = formatCardNumber(value);\r\n    } else if (name === \"exp\") {\r\n      nextValue = formatExpiry(value);\r\n    } else if (name === \"cvv\") {\r\n      nextValue = value.replace(/\\D/g, \"\").slice(0, 4);\r\n    } else if (name === \"name\") {\r\n      nextValue = sanitizeName(value);\r\n    }\r\n    setForm((prev) => ({ ...prev, [name]: nextValue }));\r\n  };\r\n\r\n  const handleFocus = (field) => {\r\n    setFocusedField(field);\r\n  };\r\n\r\n  const validate = () => {\r\n    const errs = {};\r\n    const cardNum = form.card_num.replace(/\\s/g, \"\");\r\n    if (!cardNum || !/^\\d{13,19}$/.test(cardNum) || !luhnCheck(cardNum)) {\r\n      errs.card_num = \"Numero de tarjeta invalido.\";\r\n    }\r\n\r\n    if (!form.exp || !/^\\d{2}\\/\\d{2}$/.test(form.exp)) {\r\n      errs.exp = \"Fecha de expiracion invalida (MM/YY).\";\r\n    } else {\r\n      const [mmRaw, yyRaw] = form.exp.split(\"/\");\r\n      const mm = Number(mmRaw);\r\n      const yy = Number(yyRaw);\r\n      if (!Number.isInteger(mm) || mm < 1 || mm > 12) {\r\n        errs.exp = \"Mes invalido.\";\r\n      } else {\r\n        const expDate = new Date(2000 + yy, mm - 1, 1);\r\n        const today = new Date();\r\n        const startOfCurrentMonth = new Date(today.getFullYear(), today.getMonth(), 1);\r\n        if (expDate < startOfCurrentMonth) {\r\n          errs.exp = \"Tarjeta expirada.\";\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!form.cvv || !/^\\d{3,4}$/.test(form.cvv)) {\r\n      errs.cvv = \"CVV invalido.\";\r\n    }\r\n\r\n    if (!form.name.trim()) {\r\n      errs.name = \"Nombre del titular requerido.\";\r\n    } else if (form.name.trim().length < 3) {\r\n      errs.name = \"Ingresa el nombre completo.\";\r\n    }\r\n\r\n    setErrors(errs);\r\n    return Object.keys(errs).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!validate()) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const result = await API.carrito.pagar({\r\n        ...form,\r\n        card_num: form.card_num.replace(/\\s/g, \"\"),\r\n        name: form.name.trim()\r\n      });\r\n      await refreshCart().catch(() => {});\r\n      const orderId = result?.order_id;\r\n      if (orderId) {\r\n        navigate(`/boleta?order=${orderId}`);\r\n      } else {\r\n        navigate(\"/boleta\");\r\n      }\r\n    } catch (err) {\r\n      const message = err?.payload?.error || err.message || \"No se pudo procesar el pago. Int√©ntalo nuevamente.\";\r\n      setErrors({ general: message });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const showEmptySummary = !isSummaryLoading && !combinedSummaryError && summaryItems.length === 0;\r\n\r\n  return (\r\n    <div className=\"payment-page\">\r\n      <div className=\"payment-shell\">\r\n        <div className=\"payment-card\">\r\n          <header className=\"payment-header\">\r\n            <div className=\"payment-branding\">\r\n              <div className=\"payment-brand\">Fitter Pay</div>\r\n              <div className=\"payment-security\">\r\n                <svg className=\"payment-lock-icon\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\r\n                  <path\r\n                    fill=\"currentColor\"\r\n                    d=\"M5.5 8V6a4.5 4.5 0 0 1 9 0v2h.75A1.75 1.75 0 0 1 17 9.75v6.5A1.75 1.75 0 0 1 15.25 18H4.75A1.75 1.75 0 0 1 3 16.25v-6.5A1.75 1.75 0 0 1 4.75 8H5.5Zm2-2a2.5 2.5 0 1 1 5 0v2h-5V6Zm3.25 6.448a1.25 1.25 0 1 0-1.5 0V14.5h1.5v-2.052Z\"\r\n                  />\r\n                </svg>\r\n                <span>Pago cifrado SSL</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"payment-steps\">\r\n              {steps.map((step) => (\r\n                <span key={step.label} className={`payment-step payment-step--${step.status}`}>\r\n                  <span className=\"payment-step-dot\" />\r\n                  {step.label}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </header>\r\n\r\n          <div className=\"payment-content\">\r\n            <section className=\"payment-main\">\r\n              <div className=\"payment-main-headline\">\r\n                <h1>Completa tu pago</h1>\r\n                <p>Verifica los datos y finaliza la compra con una experiencia segura inspirada en los portales bancarios.</p>\r\n              </div>\r\n\r\n              <div className=\"payment-main-visuals\">\r\n                <PaymentCardPreview\r\n                  number={displayNumber}\r\n                  name={displayName}\r\n                  exp={displayExp}\r\n                  cvv={displayCvv}\r\n                  focus={focusedField}\r\n                  brand={cardBrand}\r\n                />\r\n\r\n                <div className=\"payment-card-logos\" aria-hidden=\"true\">\r\n                  <span className=\"payment-logo payment-logo--visa\">VISA</span>\r\n                  <span className=\"payment-logo payment-logo--mastercard\">Mastercard</span>\r\n                  <span className=\"payment-logo payment-logo--amex\">Amex</span>\r\n                  <span className=\"payment-logo payment-logo--diners\">Diners</span>\r\n                </div>\r\n              </div>\r\n\r\n              <form className=\"payment-form\" onSubmit={handleSubmit} noValidate>\r\n                <label className=\"payment-field\">\r\n                  <span className=\"payment-label\">Numero de tarjeta</span>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"card_num\"\r\n                    inputMode=\"numeric\"\r\n                    autoComplete=\"cc-number\"\r\n                    aria-describedby={errors.card_num ? \"card_num_error\" : undefined}\r\n                    value={form.card_num}\r\n                    onChange={handleChange}\r\n                    onFocus={() => handleFocus(\"card_num\")}\r\n                    placeholder=\"1234 5678 9012 3456\"\r\n                    className={errors.card_num ? \"payment-input payment-input--error\" : \"payment-input\"}\r\n                  />\r\n                  <span className=\"payment-hint\">16 a 19 digitos, sin guiones.</span>\r\n                  {errors.card_num && <span id=\"card_num_error\" className=\"payment-error\" role=\"alert\">{errors.card_num}</span>}\r\n                </label>\r\n\r\n                <div className=\"payment-field-grid\">\r\n                  <label className=\"payment-field\">\r\n                    <span className=\"payment-label\">Expiracion (MM/YY)</span>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"exp\"\r\n                    inputMode=\"numeric\"\r\n                    autoComplete=\"cc-exp\"\r\n                    aria-describedby={errors.exp ? \"exp_error\" : undefined}\r\n                    value={form.exp}\r\n                    onChange={handleChange}\r\n                    onFocus={() => handleFocus(\"exp\")}\r\n                    placeholder=\"12/28\"\r\n                    className={errors.exp ? \"payment-input payment-input--error\" : \"payment-input\"}\r\n                  />\r\n                    {errors.exp && <span id=\"exp_error\" className=\"payment-error\" role=\"alert\">{errors.exp}</span>}\r\n                  </label>\r\n\r\n                  <label className=\"payment-field\">\r\n                    <span className=\"payment-label\">CVV</span>\r\n                    <input\r\n                    type=\"text\"\r\n                    name=\"cvv\"\r\n                    inputMode=\"numeric\"\r\n                    autoComplete=\"cc-csc\"\r\n                    aria-describedby={errors.cvv ? \"cvv_error\" : undefined}\r\n                    value={form.cvv}\r\n                    onChange={handleChange}\r\n                    onFocus={() => handleFocus(\"cvv\")}\r\n                    placeholder=\"123\"\r\n                    className={errors.cvv ? \"payment-input payment-input--error\" : \"payment-input\"}\r\n                  />\r\n                  <span className=\"payment-hint\">3 o 4 digitos segun la tarjeta.</span>\r\n                    {errors.cvv && <span id=\"cvv_error\" className=\"payment-error\" role=\"alert\">{errors.cvv}</span>}\r\n                  </label>\r\n                </div>\r\n\r\n                <label className=\"payment-field\">\r\n                  <span className=\"payment-label\">Nombre del titular</span>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    autoComplete=\"cc-name\"\r\n                    aria-describedby={errors.name ? \"name_error\" : undefined}\r\n                    value={form.name}\r\n                    onChange={handleChange}\r\n                    onFocus={() => handleFocus(\"name\")}\r\n                    placeholder=\"Nombre Apellido\"\r\n                    className={errors.name ? \"payment-input payment-input--error\" : \"payment-input\"}\r\n                  />\r\n                  {errors.name && <span id=\"name_error\" className=\"payment-error\" role=\"alert\">{errors.name}</span>}\r\n                </label>\r\n\r\n                {errors.general && <div className=\"payment-alert\" role=\"alert\" aria-live=\"assertive\">{errors.general}</div>}\r\n\r\n                <button type=\"submit\" className=\"payment-submit\" disabled={loading}>\r\n                  {loading ? \"Procesando pago...\" : `Pagar ${formatearPrecio(totalToCharge)}`}\r\n                </button>\r\n                <div className=\"payment-terms\">\r\n                  <p>\r\n                    Al continuar aceptas nuestros terminos y condiciones. Este cargo puede aparecer en tu estado de cuenta como\r\n                    <strong> Fitter</strong>.\r\n                  </p>\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"payment-trust\">\r\n                <div className=\"payment-trust-item\">\r\n                  <svg className=\"payment-lock-icon\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M5.5 8V6a4.5 4.5 0 0 1 9 0v2h.75A1.75 1.75 0 0 1 17 9.75v6.5A1.75 1.75 0 0 1 15.25 18H4.75A1.75 1.75 0 0 1 3 16.25v-6.5A1.75 1.75 0 0 1 4.75 8H5.5Zm2-2a2.5 2.5 0 1 1 5 0v2h-5V6Zm3.25 6.448a1.25 1.25 0 1 0-1.5 0V14.5h1.5v-2.052Z\"\r\n                    />\r\n                  </svg>\r\n                  <div>\r\n                    <h3>Compra protegida</h3>\r\n                    <p>Aplicamos protocolos PCI-DSS y verificacion de identidad para proteger tus pagos.</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"payment-trust-item\">\r\n                  <svg className=\"payment-lock-icon\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M10 3.5 4 9.5h1.5V15h3v-3h3v3h3V9.5H16L10 3.5Z\"\r\n                    />\r\n                  </svg>\r\n                  <div>\r\n                    <h3>Entrega garantizada</h3>\r\n                    <p>Si algo falla, nuestro equipo estara disponible 24/7 para ayudarte con tu pedido.</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            <aside className=\"payment-sidebar\">\r\n              <div className=\"payment-summary\">\r\n                <div className=\"payment-summary-header\">\r\n                  <h2>Resumen del pedido</h2>\r\n                  <p>{totalItems > 0 ? `${totalItems} articulo${totalItems > 1 ? \"s\" : \"\"}` : \"Sin articulos en el carrito\"}</p>\r\n                </div>\r\n\r\n                {isSummaryLoading && <div className=\"payment-summary-state\" role=\"status\" aria-live=\"polite\">Cargando resumen...</div>}\r\n                {combinedSummaryError && <div className=\"payment-summary-state payment-summary-state--error\" role=\"alert\" aria-live=\"assertive\">{combinedSummaryError}</div>}\r\n                {showEmptySummary && (\r\n                  <div className=\"payment-summary-state\" role=\"status\" aria-live=\"polite\">\r\n                    <p>No hay productos asociados al pago.</p>\r\n                    <button type=\"button\" className=\"payment-secondary-btn\" onClick={() => navigate(\"/carrito\")}>\r\n                      Volver al carrito\r\n                    </button>\r\n                  </div>\r\n                )}\r\n\r\n                {!isSummaryLoading && !combinedSummaryError && summaryItems.length > 0 && (\r\n                  <>\r\n                    <ul className=\"payment-summary-items\">\r\n                      {summaryItems.slice(0, 3).map((item) => (\r\n                        <li key={item.producto_id || item.id} className=\"payment-summary-item\">\r\n                          <div>\r\n                            <span className=\"payment-summary-name\">{item.nombre || \"Producto\"}</span>\r\n                            <span className=\"payment-summary-meta\">x{item.cantidad || 1}</span>\r\n                          </div>\r\n                          <span className=\"payment-summary-price\">\r\n                            {formatearPrecio(Number(item.acumulado) || Number(item.precio_unitario) || 0)}\r\n                          </span>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                    {summaryItems.length > 3 && (\r\n                      <div className=\"payment-summary-more\">\r\n                        + {summaryItems.length - 3} articulo{summaryItems.length - 3 > 1 ? \"s\" : \"\"} mas\r\n                      </div>\r\n                    )}\r\n\r\n                    <div className=\"payment-summary-breakdown\">\r\n                      <div className=\"payment-summary-row\">\r\n                        <span>Subtotal</span>\r\n                        <span>{formatearPrecio(subtotal)}</span>\r\n                      </div>\r\n                      <div className=\"payment-summary-row\">\r\n                        <span>Envio</span>\r\n                        <span>Sin costo</span>\r\n                      </div>\r\n                      <div className=\"payment-summary-row payment-summary-row--total\">\r\n                        <span>Total a pagar</span>\r\n                        <span>{formatearPrecio(totalToCharge)}</span>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"payment-help\">\r\n                <h3>Necesitas ayuda?</h3>\r\n                <p>Escribenos a soporte@fitter.com o llama al +56 9 1234 5678 para asistencia inmediata.</p>\r\n                <button type=\"button\" className=\"payment-secondary-btn\" onClick={() => navigate(\"/carrito\")}>\r\n                  Revisar carrito\r\n                </button>\r\n              </div>\r\n            </aside>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n"],"names":["pesoFormatter","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","formatearPrecio","valor","undefined","format","numero","Number","parseFloat","isFinite","normalizado","Math","round","PaymentCardPreview","_ref","number","name","exp","cvv","focus","brand","isFlipped","numberGroups","split","filter","Boolean","safeCvv","_jsx","className","children","_jsxs","concat","length","map","group","index","steps","label","status","PagoPage","form","setForm","useState","card_num","errors","setErrors","loading","setLoading","focusedField","setFocusedField","navigate","useNavigate","items","cartItems","total","cartTotal","refresh","refreshCart","cartStatus","error","cartError","useCart","summaryError","setSummaryError","useEffect","cancelled","then","catch","err","message","summaryItems","useMemo","Array","isArray","isSummaryLoading","combinedSummaryError","totalItems","reduce","acc","item","cantidad","subtotal","acumulado","precio_unitario","totalToCharge","baseTotal","candidate","max","cardBrand","rawValue","digits","replace","test","detectCardBrand","displayNumber","groups","slice","match","join","trim","maskCardDisplay","displayName","trimmed","toUpperCase","formatNameDisplay","displayExp","mm","yy","padEnd","normalizeExpiryDisplay","displayCvv","clean","base","handleChange","e","value","target","nextValue","formatCardNumber","formatExpiry","sanitizeName","prev","_objectSpread","handleFocus","field","validate","errs","cardNum","cardNumber","sum","shouldDouble","i","digitChar","charAt","digit","parseInt","luhnCheck","mmRaw","yyRaw","isInteger","expDate","Date","today","getFullYear","getMonth","Object","keys","showEmptySummary","viewBox","fill","d","step","onSubmit","async","preventDefault","result","API","carrito","pagar","orderId","order_id","_err$payload","payload","general","noValidate","type","inputMode","autoComplete","onChange","onFocus","placeholder","id","role","disabled","onClick","_Fragment","nombre","producto_id"],"sourceRoot":""}
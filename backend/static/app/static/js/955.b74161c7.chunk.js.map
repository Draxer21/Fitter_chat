{"version":3,"file":"static/js/955.b74161c7.chunk.js","mappings":"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","sources":["pages/ProfilePage.jsx"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { useLocale } from \"../contexts/LocaleContext\";\r\nimport \"../styles/profile.css\";\r\n\r\nconst initialFormState = {\r\n  weight_kg: \"\",\r\n  height_cm: \"\",\r\n  age_years: \"\",\r\n  sex: \"\",\r\n  activity_level: \"\",\r\n  primary_goal: \"\",\r\n  allergies: \"\",\r\n  medical_conditions: \"\",\r\n  notes: \"\",\r\n};\r\n\r\nconst sexOptions = [\r\n  { value: \"\", labelKey: \"profile.sex.select\" },\r\n  { value: \"female\", labelKey: \"profile.sex.female\" },\r\n  { value: \"male\", labelKey: \"profile.sex.male\" },\r\n  { value: \"other\", labelKey: \"profile.sex.other\" },\r\n];\r\n\r\nconst activityOptions = [\r\n  { value: \"sedentario\", labelKey: \"profile.activity.sedentario\" },\r\n  { value: \"ligero\", labelKey: \"profile.activity.ligero\" },\r\n  { value: \"moderado\", labelKey: \"profile.activity.moderado\" },\r\n  { value: \"intenso\", labelKey: \"profile.activity.intenso\" },\r\n  { value: \"atleta\", labelKey: \"profile.activity.atleta\" },\r\n];\r\n\r\nconst goalOptions = [\r\n  { value: \"perder_grasa\", labelKey: \"profile.goal.perder_grasa\" },\r\n  { value: \"mantener\", labelKey: \"profile.goal.mantener\" },\r\n  { value: \"ganar_masa\", labelKey: \"profile.goal.ganar_masa\" },\r\n  { value: \"rendimiento\", labelKey: \"profile.goal.rendimiento\" },\r\n];\r\n\r\nfunction normalizeProfile(profile) {\r\n  if (!profile) return { ...initialFormState };\r\n  return {\r\n    weight_kg: profile.weight_kg ?? \"\",\r\n    height_cm: profile.height_cm ?? \"\",\r\n    age_years: profile.age_years ?? \"\",\r\n    sex: profile.sex ?? \"\",\r\n    activity_level: profile.activity_level ?? \"\",\r\n    primary_goal: profile.primary_goal ?? \"\",\r\n    allergies: profile.allergies ?? \"\",\r\n    medical_conditions: profile.medical_conditions ?? \"\",\r\n    notes: profile.notes ?? \"\",\r\n  };\r\n}\r\n\r\nexport default function ProfilePage() {\r\n  const { t } = useLocale();\r\n  const { isAuthenticated, profile: profileData, profileState, loadProfile, updateProfile } = useAuth();\r\n  const [form, setForm] = useState(() => normalizeProfile(profileData));\r\n  const [status, setStatus] = useState(\"idle\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      loadProfile().catch(() => {});\r\n    }\r\n  }, [isAuthenticated, loadProfile]);\r\n\r\n  useEffect(() => {\r\n    setForm(normalizeProfile(profileData));\r\n  }, [profileData]);\r\n\r\n  const bmi = useMemo(() => {\r\n    const weight = parseFloat(form.weight_kg);\r\n    const height = parseFloat(form.height_cm);\r\n    if (!weight || !height) return null;\r\n    if (height <= 0) return null;\r\n    const meters = height / 100;\r\n    const value = weight / (meters * meters);\r\n    if (!Number.isFinite(value)) return null;\r\n    return Math.round(value * 100) / 100;\r\n  }, [form.weight_kg, form.height_cm]);\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setForm((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (!isAuthenticated) {\r\n      setError(\"Inicia sesiÃ³n para actualizar tu perfil.\");\r\n      return;\r\n    }\r\n    setStatus(\"saving\");\r\n    setMessage(\"\");\r\n    setError(\"\");\r\n    try {\r\n      const payload = {};\r\n      Object.entries(form).forEach(([key, value]) => {\r\n        payload[key] = value === \"\" ? null : value;\r\n      });\r\n      await updateProfile(payload);\r\n      setMessage(t(\"profile.alerts.success\"));\r\n    } catch (err) {\r\n      setError(err?.message || t(\"profile.alerts.error\"));\r\n    } finally {\r\n      setStatus(\"idle\");\r\n    }\r\n  };\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <main className=\"profile-page container py-5\">\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-lg-6\">\r\n            <div className=\"alert alert-warning\">\r\n              {t(\"profile.messages.authRequired\")}\r\n              <div className=\"mt-3\">\r\n                <Link className=\"btn btn-dark\" to=\"/login\">\r\n                  {t(\"profile.messages.authButton\")}\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"profile-page container py-5\">\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-xl-9 col-lg-10\">\r\n          <header className=\"profile-header text-center mb-4\">\r\n            <p className=\"profile-eyebrow\">{t(\"profile.highlight.eyebrow\")}</p>\r\n            <h1 className=\"profile-title\">{t(\"profile.title\")}</h1>\r\n            <p className=\"profile-subtitle\">{t(\"profile.subtitle\")}</p>\r\n          </header>\r\n\r\n          <div className=\"profile-highlight shadow-sm mb-4\">\r\n            <div>\r\n              <h2 className=\"profile-highlight-title\">{t(\"profile.highlight.title\")}</h2>\r\n              <p className=\"mb-0\">{t(\"profile.highlight.subtitle\")}</p>\r\n            </div>\r\n            <div className=\"profile-highlight-icon\" aria-hidden=\"true\">\r\n              <span className=\"bi bi-activity\" />\r\n            </div>\r\n          </div>\r\n\r\n          {message && <div className=\"alert alert-success\">{message}</div>}\r\n          {error && <div className=\"alert alert-danger\">{error}</div>}\r\n          {profileState.error && !error && (\r\n            <div className=\"alert alert-danger\">{profileState.error.message || t(\"profile.alerts.loadError\")}</div>\r\n          )}\r\n\r\n          <form className=\"profile-form card shadow-sm border-0\" onSubmit={handleSubmit}>\r\n            <div className=\"card-body\">\r\n              <div className=\"row g-3\">\r\n                <div className=\"col-md-4\">\r\n                  <label htmlFor=\"weight_kg\" className=\"form-label\">{t(\"profile.fields.weight\")}</label>\r\n                  <input\r\n                    id=\"weight_kg\"\r\n                    name=\"weight_kg\"\r\n                    type=\"number\"\r\n                    step=\"0.1\"\r\n                    className=\"form-control\"\r\n                    value={form.weight_kg}\r\n                    onChange={handleChange}\r\n                    min=\"0\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label htmlFor=\"height_cm\" className=\"form-label\">{t(\"profile.fields.height\")}</label>\r\n                  <input\r\n                    id=\"height_cm\"\r\n                    name=\"height_cm\"\r\n                    type=\"number\"\r\n                    step=\"0.1\"\r\n                    className=\"form-control\"\r\n                    value={form.height_cm}\r\n                    onChange={handleChange}\r\n                    min=\"0\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label htmlFor=\"age_years\" className=\"form-label\">{t(\"profile.fields.age\")}</label>\r\n                  <input\r\n                    id=\"age_years\"\r\n                    name=\"age_years\"\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    value={form.age_years}\r\n                    onChange={handleChange}\r\n                    min=\"0\"\r\n                    max=\"120\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row g-3 mt-1\">\r\n                <div className=\"col-md-4\">\r\n                  <label htmlFor=\"sex\" className=\"form-label\">{t(\"profile.fields.sex\")}</label>\r\n                  <select id=\"sex\" name=\"sex\" className=\"form-select\" value={form.sex} onChange={handleChange}>\r\n                    {sexOptions.map((option) => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {t(option.labelKey)}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label htmlFor=\"activity_level\" className=\"form-label\">{t(\"profile.fields.activity\")}</label>\r\n                  <select id=\"activity_level\" name=\"activity_level\" className=\"form-select\" value={form.activity_level} onChange={handleChange}>\r\n                    <option value=\"\">{t(\"profile.activity.select\")}</option>\r\n                    {activityOptions.map((option) => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {t(option.labelKey)}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <label htmlFor=\"primary_goal\" className=\"form-label\">{t(\"profile.fields.goal\")}</label>\r\n                  <select id=\"primary_goal\" name=\"primary_goal\" className=\"form-select\" value={form.primary_goal} onChange={handleChange}>\r\n                    <option value=\"\">{t(\"profile.goal.select\")}</option>\r\n                    {goalOptions.map((option) => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {t(option.labelKey)}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-3\">\r\n                <label htmlFor=\"allergies\" className=\"form-label\">{t(\"profile.fields.allergies\")}</label>\r\n                <textarea\r\n                  id=\"allergies\"\r\n                  name=\"allergies\"\r\n                  rows={2}\r\n                  className=\"form-control\"\r\n                  value={form.allergies}\r\n                  onChange={handleChange}\r\n                  placeholder={t(\"profile.placeholders.allergies\")}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mt-3\">\r\n                <label htmlFor=\"medical_conditions\" className=\"form-label\">{t(\"profile.fields.medical\")}</label>\r\n                <textarea\r\n                  id=\"medical_conditions\"\r\n                  name=\"medical_conditions\"\r\n                  rows={2}\r\n                  className=\"form-control\"\r\n                  value={form.medical_conditions}\r\n                  onChange={handleChange}\r\n                  placeholder={t(\"profile.placeholders.medical\")}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mt-3\">\r\n                <label htmlFor=\"notes\" className=\"form-label\">{t(\"profile.fields.notes\")}</label>\r\n                <textarea\r\n                  id=\"notes\"\r\n                  name=\"notes\"\r\n                  rows={3}\r\n                  className=\"form-control\"\r\n                  value={form.notes}\r\n                  onChange={handleChange}\r\n                  placeholder={t(\"profile.placeholders.notes\")}\r\n                />\r\n              </div>\r\n\r\n              {bmi && (\r\n                <div className=\"profile-bmi card border-0 shadow-sm mt-3\">\r\n                  <div className=\"card-body d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-2\">\r\n                    <div>\r\n                      <p className=\"mb-1 text-muted text-uppercase small\">{t(\"profile.stats.bmiLabel\")}</p>\r\n                      <p className=\"display-6 fw-bold mb-0\">{bmi}</p>\r\n                    </div>\r\n                    <p className=\"mb-0 text-muted\">{t(\"profile.stats.bmiNote\")}</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"card-footer d-flex justify-content-between align-items-center\">\r\n              <div>\r\n                <small className=\"text-muted\">\r\n                  {t(\"profile.helper.notice\")}\r\n                </small>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-dark\" disabled={status === \"saving\" || profileState.loading}>\r\n                {status === \"saving\" || profileState.loading ? t(\"profile.actions.saving\") : t(\"profile.actions.save\")}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":["initialFormState","weight_kg","height_cm","age_years","sex","activity_level","primary_goal","allergies","medical_conditions","notes","sexOptions","value","labelKey","activityOptions","goalOptions","normalizeProfile","profile","_profile$weight_kg","_profile$height_cm","_profile$age_years","_profile$sex","_profile$activity_lev","_profile$primary_goal","_profile$allergies","_profile$medical_cond","_profile$notes","_objectSpread","ProfilePage","t","useLocale","isAuthenticated","profileData","profileState","loadProfile","updateProfile","useAuth","form","setForm","useState","status","setStatus","message","setMessage","error","setError","useEffect","catch","bmi","useMemo","weight","parseFloat","height","meters","Number","isFinite","Math","round","handleChange","event","name","target","prev","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","payload","Object","entries","forEach","_ref","key","err","htmlFor","id","type","step","onChange","min","max","map","option","rows","placeholder","disabled","loading","Link","to"],"sourceRoot":""}
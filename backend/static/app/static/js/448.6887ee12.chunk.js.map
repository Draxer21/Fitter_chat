{"version":3,"file":"static/js/448.6887ee12.chunk.js","mappings":"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","sources":["components/Alert.jsx","pages/RegistroPage.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nconst Alert = ({ type = 'info', message }) => {\r\n  if (!message) return null;\r\n  const className = `alert alert-${type} mt-3`;\r\n  return (\r\n    <div className={className} role=\"alert\">\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Navbar from '../components/Navbar';\r\nimport Footer from '../components/Footer';\r\nimport Alert from '../components/Alert';\r\nimport { API } from '../services/apijs';\r\nimport { useLocale } from '../contexts/LocaleContext';\r\n\r\nimport '../assets/css/style_login.css';\r\nimport '../assets/css/registro_usuario.css';\r\n\r\nconst normalize = (value) => (value || '').trim();\r\n\r\nconst usernamePattern = /^[a-zA-Z0-9_-]{3,32}$/;\r\n\r\nexport default function RegisterPage() {\r\n  const { t } = useLocale();\r\n  const [fullName, setFullName] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [password2, setPassword2] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const showMessage = (type, text) => setMessages([{ type, text }]);\r\n\r\n  const validate = () => {\r\n    const name = normalize(fullName);\r\n    const user = normalize(username).toLowerCase();\r\n    const mail = normalize(email).toLowerCase();\r\n    const pass = normalize(password);\r\n    const passConfirm = normalize(password2);\r\n\r\n    if (!name || !user || !mail || !pass || !passConfirm) {\r\n      showMessage('danger', t('register.error.required'));\r\n      return null;\r\n    }\r\n    if (!/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(mail)) {\r\n      showMessage('danger', t('register.error.email'));\r\n      return null;\r\n    }\r\n    if (!usernamePattern.test(user)) {\r\n      showMessage('danger', t('register.error.username'));\r\n      return null;\r\n    }\r\n    if (pass.length < 6) {\r\n      showMessage('danger', t('register.error.passwordLength'));\r\n      return null;\r\n    }\r\n    if (pass !== passConfirm) {\r\n      showMessage('danger', t('register.error.passwordMismatch'));\r\n      return null;\r\n    }\r\n    return { full_name: name, username: user, email: mail, password: pass };\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setMessages([]);\r\n    const payload = validate();\r\n    if (!payload) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      await API.auth.register(payload);\r\n      showMessage('success', t('register.success'));\r\n      setTimeout(() => navigate('/login', { replace: true }), 1500);\r\n    } catch (error) {\r\n      showMessage('danger', error?.message || t('register.error.required'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='registro-bg d-flex flex-column min-vh-100'>\r\n      <Navbar />\r\n\r\n      <main className='container mt-4 mb-5 flex-grow-1 d-flex justify-content-center align-items-center'>\r\n        <div className='card p-5' style={{ maxWidth: 500, width: '100%' }}>\r\n          <h2 className='mb-4 text-center text-dark fw-bold'>{t('register.title')}</h2>\r\n          <form id='formulario' onSubmit={handleSubmit} noValidate>\r\n            {messages.map((msg, index) => (\r\n              <Alert key={index} type={msg.type} message={msg.text} />\r\n            ))}\r\n\r\n            <div className='mb-3'>\r\n              <label htmlFor='registerName' className='form-label'>{t('register.fullname')}</label>\r\n              <input\r\n                id='registerName'\r\n                className='form-control'\r\n                value={fullName}\r\n                onChange={(event) => setFullName(event.target.value)}\r\n                placeholder='Tu nombre y apellido'\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className='mb-3'>\r\n              <label htmlFor='registerUsername' className='form-label'>{t('register.username')}</label>\r\n              <input\r\n                id='registerUsername'\r\n                className='form-control'\r\n                value={username}\r\n                onChange={(event) => setUsername(event.target.value)}\r\n                placeholder='tu_usuario'\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className='mb-3'>\r\n              <label htmlFor='registerEmail' className='form-label'>{t('register.email')}</label>\r\n              <input\r\n                id='registerEmail'\r\n                type='email'\r\n                className='form-control'\r\n                value={email}\r\n                onChange={(event) => setEmail(event.target.value)}\r\n                placeholder='correo@dominio.com'\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className='mb-3'>\r\n              <label htmlFor='registerPassword' className='form-label'>{t('register.password')}</label>\r\n              <input\r\n                id='registerPassword'\r\n                type='password'\r\n                className='form-control'\r\n                value={password}\r\n                onChange={(event) => setPassword(event.target.value)}\r\n                placeholder='Password segura'\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className='mb-4'>\r\n              <label htmlFor='registerPassword2' className='form-label'>{t('register.password.confirm')}</label>\r\n              <input\r\n                id='registerPassword2'\r\n                type='password'\r\n                className='form-control'\r\n                value={password2}\r\n                onChange={(event) => setPassword2(event.target.value)}\r\n                placeholder='Repite tu password'\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <button type='submit' className='btn btn-primary w-100 py-2 fw-bold' disabled={loading}>\r\n              {loading ? t('register.loading') : t('register.submit')}\r\n            </button>\r\n          </form>\r\n\r\n          <div className='text-center mt-4'>\r\n            <p className='text-dark mb-0'>{t('register.haveAccount')}</p>\r\n            <Link to='/login' className='text-primary text-decoration-none fw-medium'>{t('register.gotoLogin')}</Link>\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["_ref","type","message","className","concat","_jsx","role","children","normalize","value","trim","usernamePattern","RegisterPage","t","useLocale","fullName","setFullName","useState","username","setUsername","email","setEmail","password","setPassword","password2","setPassword2","messages","setMessages","loading","setLoading","navigate","useNavigate","showMessage","text","_jsxs","Navbar","style","maxWidth","width","id","onSubmit","async","event","preventDefault","payload","validate","name","user","toLowerCase","mail","pass","passConfirm","test","length","full_name","API","auth","register","setTimeout","replace","error","noValidate","map","msg","index","Alert","htmlFor","onChange","target","placeholder","required","disabled","Link","to","Footer"],"sourceRoot":""}
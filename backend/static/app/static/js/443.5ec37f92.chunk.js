"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[443],{326:(e,s,r)=>{r.d(s,{A:()=>a});const t=new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0,maximumFractionDigits:0}),a=e=>{if(null===e||void 0===e)return t.format(0);const s="number"===typeof e?e:Number.parseFloat(e);if(!Number.isFinite(s))return t.format(0);const r=Math.round(s);return t.format(r)}},443:(e,s,r)=>{r.r(s),r.d(s,{default:()=>b});var t=r(43),a=r(352),o=r(462),i=(r(147),r(964)),n=r(579);function c(){const{t:e}=(0,i.Ym)();return(0,n.jsxs)("header",{className:"home-hero",style:{backgroundImage:"linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), url('/proyecto.jpg')",backgroundSize:"cover",backgroundPosition:"center center"},role:"banner","aria-label":"P\xe1gina principal",children:[(0,n.jsx)("div",{className:"hero-overlay","aria-hidden":"true"}),(0,n.jsx)("div",{className:"hero-inner",children:(0,n.jsxs)("div",{className:"hero-content",children:[(0,n.jsxs)("h1",{className:"hero-title",children:[(0,n.jsx)("span",{className:"muted",children:e("home.hero.title.muted")})," ",(0,n.jsx)("span",{className:"highlight",children:e("home.hero.title.highlight")})]}),(0,n.jsxs)("h2",{className:"hero-sub",children:[e("home.hero.subtitle.prefix")," ",(0,n.jsx)("strong",{children:e("home.hero.subtitle.strong")})]}),(0,n.jsx)("p",{className:"hero-desc",children:e("home.hero.description")}),(0,n.jsx)("div",{className:"hero-cta",children:(0,n.jsx)("a",{className:"btn btn-outline-dark btn-lg",href:"/registro","aria-label":"Registrarse en Fitter",children:e("home.hero.cta")})})]})}),(0,n.jsx)("section",{className:"hero-features container",role:"region","aria-label":"Caracter\xedsticas principales",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-md-3 feature",children:[(0,n.jsx)("h5",{children:e("home.hero.feature.training.title")}),(0,n.jsx)("p",{children:e("home.hero.feature.training.desc")})]}),(0,n.jsxs)("div",{className:"col-md-3 feature",children:[(0,n.jsx)("h5",{children:e("home.hero.feature.ai.title")}),(0,n.jsx)("p",{children:e("home.hero.feature.ai.desc")})]}),(0,n.jsxs)("div",{className:"col-md-3 feature",children:[(0,n.jsx)("h5",{children:e("home.hero.feature.gym.title")}),(0,n.jsx)("p",{children:e("home.hero.feature.gym.desc")})]}),(0,n.jsxs)("div",{className:"col-md-3 feature",children:[(0,n.jsx)("h5",{children:e("home.hero.feature.community.title")}),(0,n.jsx)("p",{children:e("home.hero.feature.community.desc")})]})]})})]})}var l=r(555),m=r(640),d=r(326);const h=[{id:"basic",nameKey:"memberships.plans.basic.name",price:"$29.990",periodKey:"memberships.period.perMonth",featureKeys:["memberships.plans.basic.feature.1","memberships.plans.basic.feature.2","memberships.plans.basic.feature.3","memberships.plans.basic.feature.4"]},{id:"premium",nameKey:"memberships.plans.premium.name",price:"$49.990",periodKey:"memberships.period.perMonth",featureKeys:["memberships.plans.premium.feature.1","memberships.plans.premium.feature.2","memberships.plans.premium.feature.3","memberships.plans.premium.feature.4","memberships.plans.premium.feature.5"]},{id:"black",nameKey:"memberships.plans.black.name",price:"$69.990",periodKey:"memberships.period.perMonth",featureKeys:["memberships.plans.black.feature.1","memberships.plans.black.feature.2","memberships.plans.black.feature.3","memberships.plans.black.feature.4","memberships.plans.black.feature.5"]}];function u(){const{t:e}=(0,i.Ym)(),{addItem:s}=(0,m._)(),[r,a]=(0,t.useState)([]),[c,u]=(0,t.useState)("");(0,t.useEffect)(()=>{let e=!0;return o.n.productos.list("?categoria=Membership").then(s=>{e&&(a(Array.isArray(s)?s:[]),u(""))}).catch(s=>{e&&(a([]),u((null===s||void 0===s?void 0:s.message)||"No se pudieron cargar las membres\xedas disponibles."))}),()=>{e=!1}},[]);const p=(0,t.useCallback)((e,s)=>{if(!r.length)return null;const t=e.id.toLowerCase(),a=r.find(e=>(e.nombre||"").toLowerCase().includes(t));return a||(r[s]||r[0])},[r]),f=(0,t.useMemo)(()=>h.map((e,s)=>{const r=p(e,s);return(0,l.A)((0,l.A)({},e),{},{product:r,displayPrice:r&&void 0!==r.precio&&null!==r.precio?(0,d.A)(r.precio):e.price})}),[p]);return(0,n.jsxs)("section",{className:"container py-5",children:[(0,n.jsx)("h2",{className:"text-center mb-5",children:e("memberships.title")}),c&&(0,n.jsx)("div",{className:"alert alert-warning text-center",children:c}),(0,n.jsx)("div",{className:"row",children:f.map((r,t)=>(0,n.jsx)("div",{className:"col-md-4 mb-4",children:(0,n.jsx)("div",{className:"card h-100 shadow-sm",children:(0,n.jsxs)("div",{className:"card-body text-center",children:[(0,n.jsx)("h5",{className:"card-title",children:e(r.nameKey)}),(0,n.jsxs)("h3",{className:"text-primary",children:[r.displayPrice,(0,n.jsx)("small",{className:"text-muted",children:e(r.periodKey)})]}),(0,n.jsx)("ul",{className:"list-unstyled mt-3",children:r.featureKeys.map(s=>(0,n.jsxs)("li",{className:"mb-2",children:[(0,n.jsx)("i",{className:"fas fa-check text-success me-2"}),e(s)]},s))}),(0,n.jsx)("button",{className:"btn btn-primary btn-lg mt-3",onClick:()=>(async e=>{try{const r=e.product;if(!r)throw new Error('No encontramos un producto asociado a esta membres\xeda. Revisa el cat\xe1logo de productos de categor\xeda "Membership".');await s(r.id)}catch(r){alert((null===r||void 0===r?void 0:r.message)||"No pudimos agregar el plan al carrito.")}})(r),children:e("memberships.selectPlan")})]})})},r.id))})]})}var p=r(870);const f=e=>{const s=Number(e);return Number.isFinite(s)?s:0};function b(){const{search:e,hash:s}=(0,a.zy)(),r=(0,t.useMemo)(()=>new URLSearchParams(e).get("categoria")||"",[e]),{t:l}=(0,i.Ym)(),{addItem:h}=(0,m._)(),[b,x]=(0,t.useState)([]),[j,y]=(0,t.useState)(!0),[g,N]=(0,t.useState)(""),[v,w]=(0,t.useState)(!1),[k,C]=(0,t.useState)(!1),K=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=r?"?categoria=".concat(encodeURIComponent(r)):"";o.n.productos.list(e).then(e=>{Array.isArray(e)?x(e):Array.isArray(null===e||void 0===e?void 0:e.items)?x(e.items):x([]),N("")}).catch(e=>{N((null===e||void 0===e?void 0:e.message)||"No se pudieron cargar los productos."),x([])}).finally(()=>y(!1))},[r]);const A=()=>{const e=K.current;if(!e)return w(!1),void C(!1);const s=e.scrollWidth-e.clientWidth;w(e.scrollLeft>4),C(s-e.scrollLeft>4)},L=e=>{const s=K.current;if(!s)return;const r=s.querySelector(".producto"),t="undefined"!==typeof window?window.getComputedStyle(s):null,a=t?parseFloat(t.columnGap||t.gap||"12"):12,o=r?r.getBoundingClientRect().width+a:s.clientWidth;s.scrollBy({left:e*o,behavior:"smooth"}),"undefined"!==typeof window?window.requestAnimationFrame(()=>{setTimeout(A,200)}):setTimeout(A,200)};return(0,t.useEffect)(()=>{const e=K.current;if(e&&e.scrollTo({left:0}),A(),!e)return;const s=()=>A();let r;return e.addEventListener("scroll",s,{passive:!0}),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(s),r.observe(e)),()=>{e.removeEventListener("scroll",s),r&&r.disconnect()}},[b.length,r]),(0,t.useEffect)(()=>{if(!j&&"#offers"===s){const e=document.getElementById("offers");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}},[j,s]),(0,n.jsxs)("main",{className:"flex-grow-1",children:[(0,n.jsx)(c,{}),(0,n.jsxs)("section",{id:"offers",className:"home-offers-section py-5",children:[(0,n.jsxs)("div",{className:"container text-center",children:[(0,n.jsxs)("h2",{style:{margin:"20px 0 30px 0"},children:[l("home.offers.title"),r?" ".concat(l("home.offers.in")," ").concat(r):""]}),j&&(0,n.jsx)("p",{className:"offers-status",role:"status","aria-live":"polite",children:l("home.offers.loading")}),g&&(0,n.jsxs)("p",{className:"offers-status text-danger",role:"alert","aria-live":"assertive",children:[l("home.offers.errorPrefix")," ",g]}),!j&&0===b.length&&!g&&(0,n.jsx)("p",{className:"offers-status",role:"status","aria-live":"polite",children:l("home.offers.empty")})]}),(0,n.jsxs)("div",{className:["productos-scroll-wrapper",v?"productos-scroll-wrapper--show-left":"",k?"productos-scroll-wrapper--show-right":""].filter(Boolean).join(" "),children:[v&&(0,n.jsx)("button",{type:"button",className:"productos-scroll-btn productos-scroll-btn--left",onClick:()=>L(-1),onKeyDown:e=>("Enter"===e.key||" "===e.key)&&L(-1),"aria-label":"Ver productos anteriores",children:"<"}),(0,n.jsx)("div",{ref:K,className:"productos productos-scroll",children:b.map(e=>{const s=f(e.stock),r=s<=0,t=e.imagen_url||"/fitter_logo.png";return(0,n.jsxs)("div",{className:"producto",children:[(0,n.jsxs)(a.N_,{to:"/producto/".concat(e.id),children:[(0,n.jsx)(p.A,{src:t,alt:e.nombre,className:"producto__imagen"}),(0,n.jsx)("h4",{children:e.nombre}),(0,n.jsxs)("p",{children:[l("home.offers.categoryLabel"),": ",e.categoria||"-"]}),(0,n.jsxs)("p",{children:[l("home.offers.availabilityLabel"),": ",s]}),(0,n.jsxs)("p",{children:[l("home.offers.priceLabel"),": ",(0,d.A)(e.precio)]})]}),(0,n.jsx)("button",{className:"btn btn-primary",disabled:r,onClick:()=>{r||(async e=>{try{await h(e)}catch(s){alert(s.message)}})(e.id)},children:l(r?"home.offers.button.outOfStock":"home.offers.button.addToCart")})]},e.id)})}),k&&(0,n.jsx)("button",{type:"button",className:"productos-scroll-btn productos-scroll-btn--right",onClick:()=>L(1),onKeyDown:e=>("Enter"===e.key||" "===e.key)&&L(1),"aria-label":"Ver mas productos",children:">"})]})]}),(0,n.jsx)(u,{})]})}}}]);
//# sourceMappingURL=443.5ec37f92.chunk.js.map
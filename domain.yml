version: "3.1"

intents:
  - saludar
  - despedir
  - ayuda
  - agradecimiento
  - info_servicios
  - horarios
  - precios_planes
  - privacidad
  - ubicacion
  - consejo_nutricion
  - dolor_lesion
  - sugerir_rutina
  - resumen_rutina
  - crear_reserva
  - consultar_reserva
  - cancelar_reserva
  - suscripcion_cambio_plan
  - suscripcion_alta
  - suscripcion_baja
  - contacto_humano
  - fuera_de_alcance
  - afirmar
  - negar
  - informar
  - progreso_registrar


entities:
  - objetivo        # hipertrofia|fuerza|bajar_grasa|resistencia
  - musculo         # pecho|espalda|piernas|hombros|brazos|core|fullbody
  - nivel           # principiante|intermedio|avanzado
  - clase           # spinning|yoga|funcional|hiit|pilates|zumba
  - fecha           # hoy|ma√±ana|AAAA-MM-DD
  - hora            # HH:MM
  - dolor_zona      # lumbar|rodilla|hombro|codo|cuello
  - contacto        # email o tel√©fono (si lo capturas luego)
  - codigo_reserva

slots:
  objetivo:
    type: text
    mappings: [{type: from_entity, entity: objetivo}]
  musculo:
    type: text
    mappings: [{type: from_entity, entity: musculo}]
  nivel:
    type: text
    mappings: [{type: from_entity, entity: nivel}]
  clase:
    type: text
    mappings: [{type: from_entity, entity: clase}]
  fecha:
    type: text
    mappings: [{type: from_entity, entity: fecha}]
  hora:
    type: text
    mappings: [{type: from_entity, entity: hora}]
  dolor_zona:
    type: text
    mappings: [{type: from_entity, entity: dolor_zona}]
  codigo_reserva:          # <-- NUEVO
    type: text
    mappings: [{type: from_entity, entity: codigo_reserva}]

responses:
  utter_saludo:
    - text: "¬°Hola! Soy tu asistente del gimnasio. ¬øEn qu√© te ayudo?"
  utter_despedir:
    - text: "¬°Gracias por escribirnos! Que tengas un gran entrenamiento. üëã"
    - text: "¬°Hasta luego!"
  utter_agradecimiento:
    - text: "¬°Con gusto! ¬øAlgo m√°s en que te apoye?"
  utter_ayuda:
    - text: "Puedo sugerirte rutinas, reservar clases, informar precios, horarios y m√°s."
  utter_info_servicios:
    - text: "Contamos con rutinas personalizadas, clases dirigidas, nutrici√≥n y seguimiento de progresos."
  utter_precios_planes:
    - text: "Planes Mensual, Trimestral y Anual. ¬øQuieres que te comparta el detalle por WhatsApp o correo?"
  utter_horarios:
    - text: "Estamos abiertos de lunes a viernes 06:00‚Äì22:00 y fines de semana 08:00‚Äì18:00."
  utter_ubicacion:
    - text: "Estamos en Av. Ejemplo 123, piso 2. ¬øNecesitas el mapa?"
  utter_contacto_humano:
    - text: "Te conecto con un asesor humano. D√©jame un tel√©fono o correo y el mejor horario."
  utter_privacidad:
    - text: "Tratamos tus datos seg√∫n la normativa vigente. ¬øQuieres ver el resumen de privacidad?"
  utter_pedir_objetivo:
    - text: "¬øCu√°l es tu objetivo? (hipertrofia, fuerza, bajar grasa, resistencia)"
  utter_pedir_musculo:
    - text: "¬øQu√© grupo quieres trabajar? (pecho, espalda, piernas, hombros, brazos, core o fullbody)"
  utter_pedir_nivel:
    - text: "¬øCu√°l es tu nivel? (principiante, intermedio, avanzado)"
  utter_pedir_clase:
    - text: "¬øQu√© clase deseas reservar? (spinning, yoga, funcional, hiit, pilates, zumba)"
  utter_pedir_fecha:
    - text: "¬øPara qu√© d√≠a? (hoy, ma√±ana o AAAA-MM-DD)"
  utter_pedir_hora:
    - text: "¬øA qu√© hora? (ej. 07:00, 19:30)"
  utter_confirmar_reserva:
    - text: "Reserva creada ‚úÖ: {clase} el {fecha} a las {hora} (demo)."
  utter_reserva_cancelada:
    - text: "Listo, tu reserva fue cancelada (demo)."
  utter_reserva_estado:
    - text: "Tu pr√≥xima reserva (demo) es {clase} el {fecha} a las {hora}."
  utter_fuera_de_alcance:
    - text: "Esa pregunta est√° fuera de mi alcance por ahora. ¬øDeseas hablar con un asesor?"
  utter_pedir_codigo_reserva:
    - text: "Por favor, ind√≠came el c√≥digo/ID de tu reserva."
  utter_reserva_confirmada:
    - text: "¬°Reserva confirmada! Te enviaremos el comprobante a tu correo."
  utter_dolor_lesion:
    - text: "Det√©n el ejercicio de inmediato. Si hay dolor agudo, inflamaci√≥n o p√©rdida de fuerza, consulta a un profesional de salud antes de continuar."
  utter_rutina_sugerida:
    - text: "Con la informaci√≥n entregada, te sugiero una rutina personalizada. ¬øDeseas que te la env√≠e por correo o verla en pantalla?"
  utter_nutricion_consejo:
    - text: "Seg√∫n tu objetivo y nivel, te recomiendo un plan nutricional equilibrado. ¬øPrefieres pautas generales o un men√∫ ejemplo de 7 d√≠as?"
  utter_progreso_registrado:
    - text: "¬°Anotado! Registr√© tu progreso. ¬øQuieres agregar otra m√©trica (ej. peso, RM, medidas)?"
  utter_suscripcion_alta:
    - text: "Para activar tu suscripci√≥n, confirma tu plan y m√©todo de pago. ¬øDeseas proceder con el plan Mensual/Trimestral/Anual?"
  utter_suscripcion_baja:
    - text: "Lamento que te vayas. Puedo gestionar tu baja o pausar la suscripci√≥n. ¬øDeseas continuar con la baja definitiva?"
  utter_suscripcion_cambio_plan:
    - text: "Claro, puedo ayudarte a cambiar tu plan. ¬øA qu√© plan te gustar√≠a cambiarte? (Mensual, Trimestral, Anual)"

actions:
  - action_consejo_nutricion
  - action_sugerir_rutina
  - action_resumen_rutina
  - action_crear_reserva
  - action_cancelar_reserva
  - action_consultar_reserva
  - action_suscripcion_cambio_plan


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
